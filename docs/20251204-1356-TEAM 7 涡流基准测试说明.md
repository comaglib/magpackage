这是一个基于 `run_team7.m` 脚本内容的完整问题描述文档。你可以将此内容作为项目的 `README`、实验报告或代码注释头，以便其他人快速理解该算例的物理背景、数值方法及验证流程。

------

# TEAM Problem 7：非对称导体板涡流基准测试说明

## 1. 问题概述 (Problem Overview)

本案例复现了国际计算电磁学著名的 TEAM Problem 7 (Asymmetric Conductor with a Coil) 基准测试。

该问题描述了一个放置在铝导体板上方的矩形跑道型线圈（Racetrack Coil）。线圈通入交流电后，在铝板中感应出涡流。该模型的目的是验证三维涡流场求解器在处理非对称几何及多连通域问题时的精度。

## 2. 几何与区域定义 (Geometry & Region Definitions)

模型几何包含空气、铝板和励磁线圈。根据脚本中的 `RegionTags`，各物理域定义如下：

- **Region 2 (Aluminum Plate):** 非对称放置的矩形铝板（导体区域）。
  - 这是涡流主要产生的区域，也是求解电标量位 $V$ 的区域。
- **Region 3, 4, 5, 6 (Coil):** 励磁线圈区域。
  - 脚本将这四个区域识别为同一个逻辑线圈（Tag 9999），用于自动施加源电流密度。
- **Other Regions (Air):** 空气背景区域（包括孔洞或外部空间）。
  - 不导电，仅存在磁场。

## 3. 网格信息 (Mesh Information)

- **网格文件:** `data/meshData/Team7.mphtxt`
- **单元类型:** 四面体非结构网格 (Tetrahedral Unstructured Mesh)。
- **单位:** 文件原始单位可能不统一，但脚本加载时强制转换为 **毫米 (mm)**。
- **预处理:** 脚本自动执行 `generateEdges()`，生成用于棱边有限元（Edge Elements）的拓扑数据。

## 4. 物理模型与控制方程 (Physics & Formulation)

本案例使用频域低频电磁场求解器，基于 $\mathbf{A}-V$ 势函数公式：

### 4.1 控制方程

在频域（$\omega = 2\pi f$）下求解：$\nabla \times \frac{1}{\mu} \nabla \times \mathbf{A} + j\omega\sigma (\mathbf{A} + \nabla V) = \mathbf{J}_s$

其中：

- $\mathbf{A}$: 磁矢位 (Magnetic Vector Potential)
- $V$: 电标量位 (Electric Scalar Potential)
- $\mathbf{J}_s$: 源电流密度 (Source Current Density)

### 4.2 离散格式

- **$\mathbf{A}$ (磁矢位):** 使用一阶 **Nedelec 棱边元 (Edge Elements)** 离散。
- **$V$ (电标量位):** 使用一阶 **Lagrange 节点元 (Nodal Elements)** 离散（仅在导体区域 Region 2 定义）。

### 4.3 材料属性

- **铝板 (Region 2):**
  - 电导率 $\sigma = 3.526 \times 10^7$ S/m
  - 相对磁导率 $\mu_r = 1.0$ (线性)
- **线圈与空气:**
  - 电导率 $\sigma = 0$ S/m
  - 相对磁导率 $\mu_r = 1.0$

## 5. 激励加载 (Excitation)

- **激励源:** 跑道型线圈（Racetrack Coil）。
- **加载方式:** **源电流密度 ($\mathbf{J}_s$)**。
  - 脚本通过 `analyzeCoil` 函数自动分析线圈几何（中心、半径、方向）。
  - 基于总安匝数 **2742 Ampere-turns** 和线圈平均截面积，计算等效电流密度矢量 $\mathbf{J}$。
  - $\mathbf{J}$ 被投影到线圈单元的积分点上作为右端项 (RHS) 输入。
- **频率:** $f = 50$ Hz。

## 6. 求解器配置 (Solver Settings)

- **线性求解器:** `Auto` 模式（底层调用 MUMPS 直接求解器）。
- **边界条件:**
  - 截断边界（外边界）：自然边界条件，隐含 $\mathbf{A} \times \mathbf{n} = 0$（磁力线平行于边界/磁壁条件）。
  - 导体-空气交界面：自然满足电流连续性条件 $\mathbf{n} \cdot \mathbf{J} = 0$。

## 7. 后处理与可视化 (Post-Processing & Visualization)

脚本执行完毕后，会生成一个包含四个子图的综合分析窗口。

### 7.1 定量对比 (Subplot 1 & 2)

绘制沿特定测线的 $z$ 方向磁感应强度 $B_z$ 分布，并与 TEAM 7 官方实验数据进行对比。

- **测线 A1-B1:** $y=72mm, z=34mm$
- **测线 A2-B2:** $y=144mm, z=34mm$
- **数据处理:**
  - 单位转换：Tesla $\rightarrow$ Gauss ($1 T = 10000 G$)。
  - 相位约定：虚部取负 (`-imag`) 以匹配实验数据的相位定义。
  - 对比内容：实部 (Real) 和 虚部 (Imag) 曲线。

### 7.2 场云图 (Subplot 3 & 4)

- **Subplot 3 (B-Field):** 全局表面磁通密度模值 $|\mathbf{B}|$ 云图。
  - 展示磁场在线圈周围及空间的分布情况。
- **Subplot 4 (Eddy Current):** 铝板表面涡流密度模值 $|\mathbf{J}_{eddy}|$ 云图。
  - 公式：$\mathbf{J}_{eddy} = -j\omega\sigma(\mathbf{A} + \nabla V)$。
  - 仅在 Region 2 (铝板) 上绘制，用于观察感应电流的回路路径。

------

运行 run_team7.m 将自动完成从网格加载、线圈建模、方程组装求解到最终结果验证的全过程。如果仿真曲线（红/蓝线）与散点图（实验数据）吻合良好，则说明三维涡流场代码包的 A-V 求解器及棱边元实现是正确的。