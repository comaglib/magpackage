这是一个基于 `EcoreT.m` 及其相关文件内容的完整问题描述文档。这份说明旨在帮助使用者快速理解该 E 型变压器（E-Core Transformer）瞬态场路耦合算例的配置与流程。

要求尽量使用代码包内的函数，尽量不自定义函数。

------

# EcoreT：E 型变压器瞬态磁场分析 (Transient E-Core Transformer Benchmark)

## 1. 问题概述 (Problem Overview)

本案例模拟了一个 E 型变压器的瞬态电磁场过程（励磁过程）。模型采用场路耦合（Field-Circuit Coupling）方法，求解在正弦电压源激励下，原边线圈的电流响应及铁芯中的非线性磁场分布。该案例主要用于验证三维瞬态求解器处理非线性材料、绞线线圈（Stranded Coil）以及外电路耦合的能力。

## 2. 几何与区域定义 (Geometry & Region Definitions)

模型几何被划分为不同的物理区域，通过 Region ID 进行识别：

- **Coil Regions (线圈区域):**
  - **Primary (原边):** IDs `[5, 6, 8, 9]`。这是主要激励绕组。
  - **Secondary (副边):** IDs `[3, 4, 7, 10]`。在本算例配置中，副边虽在几何中定义，但未连接负载电路（开路状态）。
- **Core Region (铁芯区域):** ID `2`。E 型铁芯部分。无涡流。
- **Air Region (空气区域):** ID `1`。背景空气域。

## 3. 网格与单元 (Mesh & Elements)

- **网格文件路径:** `data/meshData/Ecore.mphtxt`。
- **单元类型:** 四面体非结构网格 (Tetrahedral Unstructured Mesh)。
- **单位:** 米。
- **有限元空间 (Function Space):**
  - **磁场 (Curl-conforming):** 使用一阶 `ND0Space` (Nedelec Edge Elements)。

## 4. 物理模型与方程 (Physics & Formulation)

- **求解类型:** 三维瞬态磁场 (`problemType: transient`, `dim: 3`)。
- **势函数:** $\mathbf{A}$: 磁矢位

## 5. 材料属性 (Material Properties)

- **铁芯 (Region 2):**

  - **磁导率:** 非线性 (`nuType: nonlinear`)， B-H 曲线如下。

  | 0    | 0.1  | 0.2   | 0.3001 | 0.4   | 0.5001 | 0.6001 | 0.7   | 0.8   | 0.9001 | 1    | 1.1001 | 1.2001 | 1.3002 | 1.4   | 1.4999 | 1.5999   | 1.6991   | 1.7987   | 1.8978   | 1.98 | 1.9925 | 2.118164 |
  | ---- | ---- | ----- | ------ | ----- | ------ | ------ | ----- | ----- | ------ | ---- | ------ | ------ | ------ | ----- | ------ | -------- | -------- | -------- | -------- | ---- | ------ | -------- |
  | 0    | 7.86 | 13.99 | 19.51  | 24.58 | 29.42  | 34.07  | 38.64 | 43.12 | 47.59  | 52.1 | 56.77  | 61.67  | 67.19  | 74.03 | 83.86  | 1.00E+02 | 1.38E+02 | 2.95E+02 | 1.01E+03 | 2500 | 12500  | 112500   |

  - **电导率:** 无（无涡流）。

- **空气与线圈 (Regions 1, 3-10):**

  - **属性:** 常数属性。$\mu = \mu_0$, $\sigma = 1$ S/m (数值稳定导电率), $\epsilon = \epsilon_0$。（无涡流）。

## 6. 激励与电路耦合 (Excitation & Circuit Coupling)

本算例使用场路耦合激励。

- **线圈模型:**
  - **类型:** 绞线线圈 (`stranded`)，假设电流在截面上均匀分布。
  - 形状：圆形线圈。
  - **匝数:** 300 匝。
  - **直流电阻:** 100 $\Omega$。
  - **绕向:** 顺时针 (`clockwise`)。
  - **方向:** z 轴 (`[0, 0, 1]`)。
  - 激励类型：外电路电压激励。
  - 导线电导率：6e7（无涡流）。
- **外电路 (Netlist):**
  - **电源:** 正弦电压源 (`SinusoidalVoltageSource`)。
  - **参数:** 幅值 76V，频率 50Hz，初相 0。
  - **连接:** 电压源直接连接到 `primary` 绕组。

## 7. 求解器配置 (Solver Configuration)

- **求解器**：TransientCoupledSolver
- **线性求解器:** MUMPS (Direct Solver)。
- **非线性迭代:**
  - 收敛容差: $1 \times 10^{-2}$。
- **瞬态时间步进:**
  - 格式: 后向欧拉 (`BackwardEuler`)。
  - 时间范围: $0 \sim 0.02$ 秒。
  - 时间步长: 固定步长 $5 \times 10^{-4}$ 秒。
- **曲线绘制：**
  - 时间步进过程中随迭代绘制primary线圈电流随时间的变化曲线 (Time vs. Current)。


## 8. 后处理与结果 (PostProcessor ParameterExtractor Visualizer)

脚本运行结束后，将进行以下后处理：

- **可视化 (Plotter):**
  - 使用绘制0.005s时刻铁心区域表面磁密。